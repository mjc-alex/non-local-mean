


从4个角度测。
- [ ] 图像大小（6种）
- [x] 搜索窗口大小（2种）
- [x] 模板窗口大小（5种）
- [ ] block和grid的配置（block_x测32，64，128, 256.grid_y 测8,16,32,64,128）

时间统计单位均为ms，核函数100次运行的平均时间
## 全局内存

### 搜索窗口和模板窗口
取1024\*1024的图片大小，block_x = 32, grid_y = 64的配置

|     | 3     | 5     | 7     | 9     | 11    |
| --- | ----- | ----- | ----- | ----- | ----- |
| 21  | 125.3 | 125.6 | 126.3 | 128.2 | 148.1 |
| 35  | 349.5 | 350.2 | 351.4 | 355.6 | 413.7 |
### 图片大小
block_x = 32, grid_y = 64的配置，21, 5的窗口设置

|     | 512  | 1024  | 2048  | 1280 720 | 1920 1080 | 2560 1440 |
| --- | ---- | ----- | ----- | -------- | --------- | --------- |
|     | 31.7 | 125.5 | 492.5 | 106.5    |           |           |
## 共享内存
### 搜索窗口和模板窗口
取1024\*1024的图片大小，block(8, 8), grid(image_x/8, image_y/8)

|     | 3     | 5     | 7     | 9     | 11    |
| --- | ----- | ----- | ----- | ----- | ----- |
| 21  | 85.5  | 85.3  | 93.5  | 87.0  | 114.9 |
| 35  | 243.4 | 243.8 | 239.7 | 262.4 | 330.3 |
### 图片大小
block(8, 8), grid(image_x/8, image_y/8)的配置，21, 5的窗口设置

|     | 512 | 1024 | 2048 | 1280 720 | 1920 1080 | 2560 1440 |
| --- | --- | ---- | ---- | -------- | --------- | --------- |
|     |     |      |      |          |           |           |
## shared mem
- Maximum amount of shared memory per SM: 100KB
- Maximum amount of shared memory per thread block: 99KB
	- above 48 KB requires dynamic shared memory
`cudaFuncSetAttribute(KernelName,cudaFuncAttributeMaxDynamicSharedMemorySize, 96 * (1 << 10));`